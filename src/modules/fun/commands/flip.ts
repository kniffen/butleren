import type { ChatInputCommandInteraction } from 'discord.js';
import { SlashCommandBuilder } from '@discordjs/builders';
import type { BotCommand } from '../../../types';

const slashCommandBuilder =
  new SlashCommandBuilder()
    .setName('flip')
    .setDescription('Flips things!')
    .addStringOption(option =>
      option
        .setName('item')
        .setDescription('item to flip')
        .setRequired(true),
    );

const execute = async (commandInteraction: ChatInputCommandInteraction): Promise<void> => {
  const item        = commandInteraction.options.get('item')?.value?.toString() || '';
  const flippedItem = item.split('').map(char => charsMap.get(char) || char).reverse().join('');

  await commandInteraction.reply({ content: `(‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ${flippedItem}` });
};

export const flipCommand: BotCommand = {
  isLocked:        false,
  slashCommandBuilder,
  execute,
  defaultSettings: { isEnabled: false },
  parentSlug:      'fun',
};

const charsMap = new Map<string, string>([
  ['A', '‚àÄ'],
  ['B', 'êêí'],
  ['C', '∆Ü'],
  ['E', '∆é'],
  ['F', '‚Ñ≤'],
  ['G', '◊§'],
  ['H', 'H'],
  ['I', 'I'],
  ['J', '≈ø'],
  ['L', 'À•'],
  ['M', 'W'],
  ['N', 'N'],
  ['P', '‘Ä'],
  ['R', '·¥ö'],
  ['T', '‚ä•'],
  ['U', '‚à©'],
  ['V', 'Œõ'],
  ['Y', '‚ÖÑ'],
  ['a', '…ê'],
  ['b', 'q'],
  ['c', '…î'],
  ['d', 'p'],
  ['e', '«ù'],
  ['f', '…ü'],
  ['g', '∆É'],
  ['h', '…•'],
  ['i', '·¥â'],
  ['j', '…æ'],
  ['k', ' û'],
  ['m', '…Ø'],
  ['n', 'u'],
  ['p', 'd'],
  ['q', 'b'],
  ['r', '…π'],
  ['t', ' á'],
  ['u', 'n'],
  ['v', ' å'],
  ['w', ' ç'],
  ['y', ' é'],
  ['1', '∆ñ'],
  ['2', '·ÑÖ'],
  ['3', '∆ê'],
  ['4', '„Ñ£'],
  ['5', 'œõ'],
  ['6', '9'],
  ['7', '„Ñ•'],
  ['8', '8'],
  ['9', '6'],
  ['0', '0'],
  ['.', 'Àô'],
  [',', '\''],
  ['\'', ','],
  ['"', ',,'],
  ['`', ','],
  ['<', '>'],
  ['>', '<'],
  ['‚à¥', '‚àµ'],
  ['&', '‚Öã'],
  ['_', '‚Äæ'],
  ['?', '¬ø'],
  ['!', '¬°'],
  ['[', ']'],
  [']', '['],
  ['(', ')'],
  [')', '('],
  ['{', '}'],
  ['}', '{'],
  ['–ê', '‚àÄ'],
  ['–ë', '‹¶'],
  ['–í', 'Íì≠'],
  ['–ì', '‚ÖÉ'],
  ['–î', '·É©'],
  ['–ï', '∆é'],
  ['–ó', '∆ê'],
  ['–ô', '–òÃØ'],
  ['–ö', 'Íìò'],
  ['–õ', '—¥'],
  ['–ú', 'ÍüΩ'],
  ['–ü', '‚µ°'],
  ['–†', '‘Ä'],
  ['–°', 'œΩ'],
  ['–¢', 'Íìï'],
  ['–£', ' é'],
  ['–¶', '≈â'],
  ['–ß', '·Çπ'],
  ['–®', '·ó∞'],
  ['–¨', '·ë´'],
  ['–≠', '–Ñ'],
  ['–Æ', 'Íôî'],
  ['–Ø', '·ñâ'],
  ['–∞', '…ê'],
  ['–±', '‹¶'],
  ['–≤', ' ö'],
  ['–≥', '‚ÖÉ'],
  ['–¥', '·É©'],
  ['–µ', '«ù'],
  ['–∑', '‘ë'],
  ['–π', '–∏ÃØ'],
  ['–∫', ' û'],
  ['–ª', '—µ'],
  ['–º', '·•ï'],
  ['–ø', '‚äî'],
  ['—Ä', 'd'],
  ['—Å', '…î'],
  ['—Ç', 'Íìï'],
  ['—É', ' é'],
  ['—Ü', '≈â'],
  ['—á', 'h'],
  ['—à', 'm'],
  ['—å', '‡ß≠'],
  ['—ç', '—î'],
  ['—é', 'Íôï'],
  ['—è', ' Å'],
]);